<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta name="keywords" content="@playform/document"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@vscode/extension-telemetry</title><meta name="description" content="Documentation for @vscode/extension-telemetry"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@vscode/extension-telemetry</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@vscode/extension-telemetry</h2></div><div class="tsd-panel tsd-typography"><a id="md:vscodeextension-telemetry" class="tsd-anchor"></a><h1 class="tsd-anchor-link"><a href="https://www.npmjs.com/package/@vscode/extension-telemetry">@vscode/extension-telemetry</a><a href="#md:vscodeextension-telemetry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Follow
<a href="https://learn.microsoft.com/en-us/azure/azure-monitor/app/create-workspace-resource">guide to set up Application Insights</a>
in Azure and get your connection string. Don't worry about hardcoding it, it is
not sensitive.</p>
<a id="md:install" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Install<a href="#md:install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>With npm: <code>npm install @vscode/extension-telemetry</code></p>
<p>With yarn: <code>yarn add @vscode/extension-telemetry</code></p>
<a id="md:usage" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Usage<a href="#md:usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><a id="md:setup" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Setup<a href="#md:setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="javascript"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">vscode</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;vscode&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-3">TelemetryReporter</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@vscode/extension-telemetry&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// the connection string</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-6">connectionString</span><span class="hl-1"> = </span><span class="hl-4">&#39;&lt;your connection string&gt;&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// telemetry reporter</span><br/><span class="hl-2">let</span><span class="hl-1"> </span><span class="hl-3">reporter</span><span class="hl-1">;</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-7">activate</span><span class="hl-1">(</span><span class="hl-3">context</span><span class="hl-1">: </span><span class="hl-8">vscode</span><span class="hl-1">.</span><span class="hl-8">ExtensionContext</span><span class="hl-1">) {</span><br/><span class="hl-1">   </span><span class="hl-5">// create telemetry reporter on extension activation</span><br/><span class="hl-1">   </span><span class="hl-3">reporter</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-7">TelemetryReporter</span><span class="hl-1">(</span><span class="hl-3">connectionString</span><span class="hl-1">);</span><br/><span class="hl-1">   </span><span class="hl-5">// ensure it gets properly disposed. Upon disposal the events will be flushed</span><br/><span class="hl-1">   </span><span class="hl-3">context</span><span class="hl-1">.</span><span class="hl-3">subscriptions</span><span class="hl-1">.</span><span class="hl-7">push</span><span class="hl-1">(</span><span class="hl-3">reporter</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:sending-events" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Sending Events<a href="#md:sending-events" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use this method for sending general events to App Insights.</p>
<pre><code class="javascript"><span class="hl-5">// send event any time after activation</span><br/><span class="hl-3">reporter</span><span class="hl-1">.</span><span class="hl-7">sendTelemetryEvent</span><span class="hl-1">(</span><br/><span class="hl-1">	</span><span class="hl-4">&quot;sampleEvent&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">	{ </span><span class="hl-4">&quot;stringProp&quot;</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">&quot;some string&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">	{ </span><span class="hl-4">&quot;numericMeasure&quot;</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-9">123</span><span class="hl-1"> },</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:sending-errors-as-events" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Sending Errors as Events<a href="#md:sending-errors-as-events" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Use this method for sending error telemetry as traditional events to App
Insights. This method will automatically drop error properties in certain
environments for first party extensions. The last parameter is an optional list
of case-sensitive properties that should be dropped. If no array is passed, we
will drop all properties but still send the event.</p>
<pre><code class="javascript"><span class="hl-5">// send an error event any time after activation</span><br/><span class="hl-3">reporter</span><span class="hl-1">.</span><span class="hl-7">sendTelemetryErrorEvent</span><span class="hl-1">(</span><br/><span class="hl-1">	</span><span class="hl-4">&quot;sampleErrorEvent&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">	{ </span><span class="hl-4">&quot;stringProp&quot;</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">&quot;some string&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;stackProp&quot;</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">&quot;some user stack trace&quot;</span><span class="hl-1"> },</span><br/><span class="hl-1">	{ </span><span class="hl-4">&quot;numericMeasure&quot;</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-9">123</span><span class="hl-1"> },</span><br/><span class="hl-1">	[</span><span class="hl-4">&quot;stackProp&quot;</span><span class="hl-1">],</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="md:common-properties" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Common Properties<a href="#md:common-properties" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><ul>
<li><strong>Extension Name</strong> <code>common.extname</code> - The extension name</li>
<li><strong>Extension Version</strong> <code>common.extversion</code> - The extension version</li>
<li><strong>Machine Identifier</strong> <code>common.vscodemachineid</code> - A common machine
identifier generated by VS Code</li>
<li><strong>Session Identifier</strong> <code>common.vscodesessionid</code> - A session identifier
generated by VS Code</li>
<li><strong>VS Code Version</strong> <code>common.vscodeversion</code> - The version of VS Code running
the extension</li>
<li><strong>OS</strong> <code>common.os</code> - The OS running VS Code</li>
<li><strong>Platform Version</strong> <code>common.platformversion</code> - The version of the
OS/Platform</li>
<li><strong>Product</strong> <code>common.product</code> - What Vs code is hosted in, i.e. desktop,
github.dev, codespaces.</li>
<li><strong>UI Kind</strong> <code>common.uikind</code> - Web or Desktop indicating where VS Code is
running</li>
<li><strong>Remote Name</strong> <code>common.remotename</code> - A name to identify the type of remote
connection. <code>other</code> indicates a remote connection not from the 3 main
extensions (ssh, docker, wsl).</li>
<li><strong>Architecture</strong> <code>common.nodeArch</code> - What architecture of node is running.
i.e. arm or x86. On the web it will just say <code>web</code>.</li>
</ul>
<a id="md:license" class="tsd-anchor"></a><h1 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="media/LICENSE">MIT</a></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:vscodeextension-telemetry"><span>@vscode/extension-<wbr/>telemetry</span></a><a href="#md:install"><span>Install</span></a><a href="#md:usage"><span>Usage</span></a><ul><li><a href="#md:setup"><span>Setup</span></a></li><li><a href="#md:sending-events"><span>Sending <wbr/>Events</span></a></li><li><a href="#md:sending-errors-as-events"><span>Sending <wbr/>Errors as <wbr/>Events</span></a></li></ul><a href="#md:common-properties"><span>Common <wbr/>Properties</span></a><a href="#md:license"><span>License</span></a></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@vscode/extension-telemetry</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
